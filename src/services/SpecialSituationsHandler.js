class SpecialSituationsHandler {
    constructor(client, config) {
        this.client = client;
        this.config = config;
        this.activeSpecialSituations = new Set();
    }

    // –ê–∫—Ç–∏–≤–∞—Ü–∏—è –æ—Å–æ–±–æ–π —Å–∏—Ç—É–∞—Ü–∏–∏
    activateSituation(situation) {
        this.activeSpecialSituations.add(situation);
        return this.getSituationMessage(situation);
    }

    // –î–µ–∞–∫—Ç–∏–≤–∞—Ü–∏—è –æ—Å–æ–±–æ–π —Å–∏—Ç—É–∞—Ü–∏–∏
    deactivateSituation(situation) {
        this.activeSpecialSituations.delete(situation);
    }

    // –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è –æ—Å–æ–±–æ–π —Å–∏—Ç—É–∞—Ü–∏–∏
    getSituationMessage(situation) {
        const messages = {
            teething: `
ü¶∑ –†–µ–∂–∏–º –ø—Ä–æ—Ä–µ–∑—ã–≤–∞–Ω–∏—è –∑—É–±–æ–≤:

üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:
‚Ä¢ –û—Ö–ª–∞–∂–¥—ë–Ω–Ω–æ–µ –ø–æ–ª–æ—Ç–µ–Ω—Ü–µ –¥–ª—è –¥—ë—Å–µ–Ω
‚Ä¢ –ü—Ä–æ—Ö–ª–∞–¥–Ω–∞—è –µ–¥–∞
‚Ä¢ –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –∏–≥—Ä—É—à–∫–∏ –¥–ª—è –∂–µ–≤–∞–Ω–∏—è
‚Ä¢ –ß–∞—â–µ –ø—Ä–µ–¥–ª–∞–≥–∞—Ç—å –ø–∏—Ç—å–µ

‚ö†Ô∏è –°–ª–µ–¥–∏—Ç—å –∑–∞:
‚Ä¢ –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–æ–π
‚Ä¢ –û–±—â–∏–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º
‚Ä¢ –ê–ø–ø–µ—Ç–∏—Ç–æ–º

üìû –û–±—Ä–∞—Ç–∏—Ç—å—Å—è –∫ –≤—Ä–∞—á—É –µ—Å–ª–∏:
‚Ä¢ –í—ã—Å–æ–∫–∞—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ >38¬∞C
‚Ä¢ –û—Ç–∫–∞–∑ –æ—Ç –µ–¥—ã >12 —á–∞—Å–æ–≤
‚Ä¢ –°–∏–ª—å–Ω–æ–µ –±–µ—Å–ø–æ–∫–æ–π—Å—Ç–≤–æ
            `,

            illness: `
üè• –†–µ–∂–∏–º –±–æ–ª–µ–∑–Ω–∏:

‚úÖ –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞:
‚Ä¢ –ë–æ–ª—å—à–µ –æ—Ç–¥—ã—Ö–∞
‚Ä¢ –ß–∞—Å—Ç–æ–µ –ø–∏—Ç—å–µ
‚Ä¢ –ü—Ä–æ–≤–µ—Ç—Ä–∏–≤–∞–Ω–∏–µ
‚Ä¢ –í–ª–∞–∂–Ω–∞—è —É–±–æ—Ä–∫–∞

üìã –ó–∞–ø–∏—Å—ã–≤–∞—Ç—å:
‚Ä¢ –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É
‚Ä¢ –°–∏–º–ø—Ç–æ–º—ã
‚Ä¢ –í—Ä–µ–º—è –ø—Ä–∏–µ–º–∞ –ª–µ–∫–∞—Ä—Å—Ç–≤

‚ö†Ô∏è –í–∞–∂–Ω–æ:
‚Ä¢ –°–ª–µ–¥–∏—Ç—å –∑–∞ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–æ–π
‚Ä¢ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –≤–ª–∞–∂–Ω–æ—Å—Ç—å
‚Ä¢ –ß–∞—â–µ –º–µ–Ω—è—Ç—å –ø–æ–¥–≥—É–∑–Ω–∏–∫
            `,

            vaccination: `
üíâ –î–µ–Ω—å –ø—Ä–∏–≤–∏–≤–∫–∏:

üìù –ü–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π:
1. –î–æ –ø—Ä–∏–≤–∏–≤–∫–∏:
   ‚Ä¢ –ò–∑–º–µ—Ä–∏—Ç—å —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É
   ‚Ä¢ –û–±—ã—á–Ω—ã–π —Ä–µ–∂–∏–º –ø–∏—Ç–∞–Ω–∏—è
   ‚Ä¢ –°–ø–æ–∫–æ–π–Ω—ã–µ –∏–≥—Ä—ã

2. –ü–æ—Å–ª–µ –ø—Ä–∏–≤–∏–≤–∫–∏:
   ‚Ä¢ –ù–∞–±–ª—é–¥–∞—Ç—å 30 –º–∏–Ω—É—Ç
   ‚Ä¢ –ò–∑–º–µ—Ä—è—Ç—å —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É
   ‚Ä¢ –í–æ–∑–º–æ–∂–µ–Ω —Å–æ–Ω–ª–∏–≤—ã–π —Ä–µ–∂–∏–º

‚ö†Ô∏è –°–ª–µ–¥–∏—Ç—å –∑–∞:
‚Ä¢ –ú–µ—Å—Ç–æ–º —É–∫–æ–ª–∞
‚Ä¢ –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–æ–π
‚Ä¢ –û–±—â–∏–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º
            `
        };

        return messages[situation] || '–°–∏—Ç—É–∞—Ü–∏—è –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞';
    }

    // –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π
    getSpecialRecommendations() {
        let recommendations = '';
        
        for (const situation of this.activeSpecialSituations) {
            recommendations += this.getSituationMessage(situation) + '\n\n';
        }

        return recommendations;
    }
}

module.exports = SpecialSituationsHandler; 